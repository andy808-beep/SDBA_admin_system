<!-- TN Legacy Templates - Extracted from main_form/1_category.html through 5_summary.html -->
<!-- These templates preserve the exact markup, IDs, and classes from the legacy forms -->

<template id="tn-step-1">
  <div class="card">
    <form id="categoryForm">
      <h2 data-i18n="selectRaceCategory">Select Race Category</h2>

      <label for="raceCategory" data-i18n="chooseCategory">Choose category:</label>
      <select id="raceCategory" required>
        <option value="" data-i18n="pleaseChoose">-- Please choose --</option>
        <option value="men_open" data-i18n="menOpen">Men Open</option>
        <option value="ladies_open" data-i18n="ladiesOpen">Ladies Open</option>
        <option value="mixed_open" data-i18n="mixedOpen">Mixed Open</option>
        <option value="mixed_corporate" data-i18n="mixedCorporate">Mixed Corporate</option>
      </select>

      <label for="teamCount" data-i18n="howManyTeams">How many teams will you register?</label>
      <input type="number" id="teamCount" min="1" placeholder="e.g. 2" data-i18n-placeholder="exampleTwo" required />

      <hr />

      <div id="entryOptions" hidden>
        <h3 data-i18n="entryOptions">Entry Options</h3>

        <div class="entry-option">
          <strong id="opt1Label">Option 1</strong> <!-- Fallback if config not loaded; overwritten by live config when available. -->
          <ul>
            <li data-i18n="entryFee">Entry Fee</li>
            <li>Practice with equipment x12hrs</li>
            <li>Souvenir Tee x20 pieces</li>
            <li>20L Dry Bag x1</li>
            <li><u>Padded Shorts x20 pieces</u></li>
            <li><span id="opt1Price"></span> <span data-i18n="perTeam">per team</span></li>
          </ul>
          <label><span data-i18n="howManyTeamsChooseOption" data-i18n-params='{"option":"1"}'>How many teams choose Option 1:</span>
            <input type="number" id="opt1Count" min="0" value="0" required />
          </label>
        </div>

        <div class="entry-option">
          <strong id="opt2Label">Option 2</strong> <!-- Fallback if config not loaded; overwritten by live config when available. -->
          <ul>
            <li data-i18n="entryFee">Entry Fee</li>
            <li>Practice with equipment x12hrs</li>
            <li>Souvenir Tee x20 pieces</li>
            <li>20L Dry Bag x1</li>
            <li><s>Padded Shorts x20 pieces</s></li>
            <li><span id="opt2Price"></span> <span data-i18n="perTeam">per team</span></li>
          </ul>
          <label><span data-i18n="howManyTeamsChooseOption" data-i18n-params='{"option":"2"}'>How many teams choose Option 2:</span>
            <input type="number" id="opt2Count" min="0" value="0" required />
          </label>
        </div>
      </div>

      <!-- Honeypot field -->
      <input type="text" name="website" id="website_hp" autocomplete="off" tabindex="-1" style="position:absolute;left:-9999px;" />

      <p class="msg" id="formMsg"></p>
      <!-- üîÑ Navigation -->
      <div class="nav-buttons">
        <button type="submit" id="nextBtn" data-i18n="nextButton">Next ‚Üí</button>
      </div>
    </form>
  </div>
</template>

<template id="tn-step-2">
  <div class="card">
    <form id="teamInfoForm">
      <h2 data-i18n="teamInformation">Team Information</h2>

      <div id="teamNameFields"></div>
      <div class="form-group">
        <label for="orgName" data-i18n="organizationGroupName">Organization / Group Name</label>
        <input type="text" id="orgName" name="orgName" placeholder="" data-i18n-placeholder="enterOrgName" required />
      </div>
      <div class="form-group">
        <label for="mailingAddress" data-i18n="mailingAddress">Mailing Address</label>
        <textarea id="mailingAddress" name="mailingAddress" rows="3" placeholder="Room/Floor, Building Name, Street, District, City" data-i18n-placeholder="addressPlaceholder" required></textarea>
      </div>
      <h3 data-i18n="teamManagerContact">Team Manager Contact</h3>
      <div id="managerFields"></div>

      <p class="msg" id="formMsg"></p>
      <!-- üîÑ Navigation -->
      <div class="nav-buttons">
        <button type="button" id="backBtn" data-i18n="backButton">‚Üê Back</button>
        <button type="submit" id="nextBtn" data-i18n="nextButton">Next ‚Üí</button>
      </div>
    </form>
  </div>
</template>

<!-- Step 3: Race Day Arrangements Template
     IMPORTANT: This is the ONLY Step 3 template. Do not create duplicates.
     Navigation buttons use IDs: backBtn, nextBtn (matching setupStep3Navigation)
-->
<template id="tn-step-3">
  <div class="card">
    <form id="raceDayForm">
      <h2 data-i18n="raceDayArrangement">Race Day Arrangement</h2>

      <!-- Athlete Marquee -->
      <div class="form-group">
        <label for="marqueeQty" data-i18n="athleteMarquee">Athlete Marquee</label>
        <div class="qty-input-container">
          <input type="number" id="marqueeQty" name="marqueeQty" class="qty-input" min="0" value="0" />
          <span class="unit-label" data-i18n="unitPrice">Unit Price:</span>
          <span class="price" id="marqueePrice">HK$200</span>
        </div>
      </div>

      <!-- Official Steersman (With Practice) -->
      <div class="form-group">
        <label for="steerWithQty" data-i18n="teamsHiredSteersman">Teams hired Official Steersman during practice</label>
        <div class="qty-input-container">
          <input type="number" id="steerWithQty" name="steerWithQty" class="qty-input" min="0" value="0" />
          <span class="unit-label" data-i18n="unitPrice">Unit Price:</span>
          <span class="price" id="steerWithPrice">HK$1500</span>
        </div>
      </div>

      <!-- Official Steersman (Without Practice) -->
      <div class="form-group">
        <label for="steerWithoutQty" data-i18n="teamsNotHiredSteersman">Teams DID NOT hire Official Steersman during practice</label>
        <div class="qty-input-container">
          <input type="number" id="steerWithoutQty" name="steerWithoutQty" class="qty-input" min="0" value="0" />
          <span class="unit-label" data-i18n="unitPrice">Unit Price:</span>
          <span class="price" id="steerWithoutPrice">HK$2000</span>
        </div>
      </div>

      <div class="section">
        <h3 data-i18n="junkRegistration">Junk Registration</h3>
        <div class="line-row">
          <label for="junkBoatNo" data-i18n="pleasureBoatNo">Pleasure Boat No.:</label>
          <input type="text" id="junkBoatNo" name="junkBoatNo" />
          <span id="junkPrice">HK$2,500</span> <!-- Fallback if config not loaded; overwritten by live config when available. -->
          <input type="number" id="junkBoatQty" name="junkBoatQty" min="0" value="0"/>
        </div>
      </div>

      <div class="section">
        <h3 data-i18n="speedBoatRegistration">Speed Boat Registration</h3>
        <div class="line-row">
          <label for="speedBoatNo" data-i18n="speedBoatNo">Speed Boat No.:</label>
          <input type="text" id="speedBoatNo" name="speedBoatNo" />
          <span id="speedPrice">HK$1,500</span> <!-- Fallback if config not loaded; overwritten by live config when available. -->
          <input type="number" id="speedboatQty" name="speedboatQty" min="0" value="0"/>
        </div>
      </div>

      <p class="msg" id="formMsg"></p>
      <!-- üîÑ Navigation -->
      <div class="nav-buttons">
        <button type="button" id="backBtn" data-i18n="backButton">‚Üê Back</button>
        <button type="submit" id="nextBtn" data-i18n="nextButton">Next ‚Üí</button>
      </div>
    </form>
  </div>
</template>

<!-- Step 4: Practice Booking Template
     IMPORTANT: This is the ONLY Step 4 template. Do not create duplicates.
     Navigation buttons use IDs: backBtn, nextBtn (matching setupStep4Navigation)
-->
<template id="tn-step-4">
  <div class="card">

    <h2 data-i18n="practiceBookingTitleFallback">üõ∂ Practice Booking (Jan‚ÄìJul 2026)</h2> <!-- Fallback if config not loaded; overwritten by live config when available. -->

    <!-- üßë‚Äçü§ù‚Äçüßë Team Selection -->
    <div class="team-selector">
      <label for="teamSelect" data-i18n="selectTeamLabel">Select Team:</label>
      <select id="teamSelect"></select>
    </div>
    <div id="teamNameFields"></div>

    <div class="copy-from-team1" style="margin-top: 0.5rem;">
      <button type="button" id="copyFromTeam1Btn" data-i18n="copyFromTeam1">üìã Copy from Team 1</button>
    </div>


    <!-- üóìÔ∏è Calendar Container -->
    <div id="calendarContainer" class="calendar-wrapper"></div>

    <!-- üß© Time Slot Preference -->
    <div class="slot-preferences">
      <h3 data-i18n="timeSlotPreferenceRanking">Time Slot Preference Ranking</h3>

      <table class="slot-table">
        <thead>
          <tr>
            <th data-i18n="rank">Rank</th>
            <th data-i18n="twoHourSession">2-Hour Session</th>
            <th data-i18n="oneHourSession">1-Hour Session</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td data-i18n="firstChoice">1st Choice</td>
            <td><select id="slotPref2h_1" required><option value="" data-i18n="selectPlaceholder">-- Select --</option></select></td>
            <td><select id="slotPref1h_1"><option value="" data-i18n="selectPlaceholder">-- Select --</option></select></td>
          </tr>
          <tr>
            <td data-i18n="secondChoice">2nd Choice</td>
            <td><select id="slotPref2h_2"><option value="" data-i18n="selectPlaceholder">-- Select --</option></select></td>
            <td><select id="slotPref1h_2"><option value="" data-i18n="selectPlaceholder">-- Select --</option></select></td>
          </tr>
          <tr>
            <td data-i18n="thirdChoice">3rd Choice</td>
            <td><select id="slotPref2h_3"><option value="" data-i18n="selectPlaceholder">-- Select --</option></select></td>
            <td><select id="slotPref1h_3"><option value="" data-i18n="selectPlaceholder">-- Select --</option></select></td>
          </tr>
        </tbody>
      </table>
    </div>




    <!-- üìä Practice Summary (Combined) -->
    <div id="practiceSummary" class="summary-box">
      <h3 data-i18n="practiceBookingSummary">Practice Booking Summary</h3>
      <p><span data-i18n="totalHoursSelected">Total Hours Selected:</span> <span id="totalHours">0</span> / 12</p>
      <p><span data-i18n="extraPracticeSessions">Extra Practice Sessions</span> (<span id="priceExtraStd">HK$600</span>): <span id="extraPracticeQty">0</span></p> <!-- Fallback if config not loaded; overwritten by live config when available. -->
      <p><span data-i18n="trainerSessions">Trainer Sessions</span> (<span id="priceTrainer">HK$550</span>): <span id="trainerQty">0</span></p> <!-- Fallback if config not loaded; overwritten by live config when available. -->
      <p><span data-i18n="steersmanSessions">Steersman Sessions</span> (<span id="priceSteersman">HK$350</span>): <span id="steersmanQty">0</span></p> <!-- Fallback if config not loaded; overwritten by live config when available. -->
    </div>

    <!-- üîÑ Navigation Buttons - CRITICAL: These IDs (backBtn, nextBtn) must match setupStep4Navigation() -->
    <div class="nav-buttons">
      <button type="button" id="backBtn" data-i18n="backRaceDay">‚Üê Back: Race Day</button>
      <button type="button" id="nextBtn" data-i18n="nextSummary">Next: Summary ‚Üí</button>
    </div>

  </div>
</template>

<template id="tn-step-5">
  <div class="wrap">
    <h1 data-i18n="applicationSummary">Application Summary</h1>

    <div class="section" id="secBasics">
      <h2 data-i18n="basics">Basics</h2>
      <div class="grid-2">
        <div class="kv"><div class="k" data-i18n="season">Season</div><div class="v" id="sumSeason">‚Äî</div></div>
        <div class="kv"><div class="k" data-i18n="organization">Organization</div><div class="v" id="sumOrg">‚Äî</div></div>
        <div class="kv"><div class="k" data-i18n="mailingAddress">Mailing Address</div><div class="v" id="sumAddress">‚Äî</div></div>
      </div>
    </div>

    <div class="section" id="secTeams">
      <h2 data-i18n="teams">Teams</h2>
      <table class="summary" id="teamsTable">
        <thead>
          <tr>
            <th data-i18n="numberSymbol">#</th>
            <th data-i18n="teamName">Team Name</th>
            <th data-i18n="entryOption">Entry Option</th>
          </tr>
        </thead>
        <tbody id="teamsTbody"><tr><td colspan="3" class="muted" data-i18n="noTeams">No teams</td></tr></tbody>
      </table>
      <div class="muted" style="margin-top:6px;" data-i18n="teamCodesAssignedNote">(Team codes are assigned at submit time.)</div>
    </div>

    <div class="section" id="secManagers">
      <h2 data-i18n="teamManagers">Team Managers</h2>
      <table class="summary" id="managersTable">
        <thead>
          <tr>
            <th data-i18n="numberSymbol">#</th>
            <th data-i18n="name">Name</th>
            <th data-i18n="mobile">Mobile</th>
            <th data-i18n="email">Email</th>
          </tr>
        </thead>
        <tbody id="managersTbody"><tr><td colspan="4" class="muted" data-i18n="noManagerInformation">No manager information</td></tr></tbody>
      </table>
    </div>

    <div class="section" id="secRaceDay">
      <h2 data-i18n="raceDayArrangement">Race Day Arrangement</h2>
      <div class="grid-2" id="raceDayGrid">
        <div class="kv"><div class="k" data-i18n="marqueeQty">Marquee Qty</div><div class="v" id="sumMarquee">‚Äî</div></div>
        <div class="kv"><div class="k" data-i18n="steersmanWithBoat">Steersman (with boat)</div><div class="v" id="sumSteerWith">‚Äî</div></div>
        <div class="kv"><div class="k" data-i18n="steersmanNoBoat">Steersman (no boat)</div><div class="v" id="sumSteerWithout">‚Äî</div></div>
        <div class="kv"><div class="k" data-i18n="junkBoatQty">Junk Boat # / Qty</div><div class="v" id="sumJunk">‚Äî</div></div>
        <div class="kv"><div class="k" data-i18n="speedBoatQty">Speed Boat # / Qty</div><div class="v" id="sumSpeed">‚Äî</div></div>
      </div>
      <div class="muted" style="margin-top:6px;">(Race day supply submission happens after we add that table.)</div>
    </div>

    <div class="section" id="secPractice">
      <h2 data-i18n="practiceBookingPerTeam">Practice Booking (per Team)</h2>
      <div id="perTeamPracticeSummary">
        <p class="muted" data-i18n="noPracticeBookingData">No practice booking data.</p>
      </div>
    </div>


    <p class="msg" id="formMsg"></p>
    <div class="actions">
      <button type="button" id="backBtn" data-i18n="backButton">‚Üê Back</button>
      <button id="submitBtn" data-i18n="submitButton">Submit Application</button>
    </div>
    
    <!-- Confirmation section (hidden by default) -->
    <div id="confirmation" style="display:none;"></div>
    
    <!-- Revisit confirmation section -->
    <div id="revisit"></div>
  </div>
</template>
